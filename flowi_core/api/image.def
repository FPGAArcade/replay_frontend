//mod render_commands

enum ImageFormat {
    /// 8-bit per channel Red, Green and Blue
    Rgb,
    /// 8-bit per channel Red, Green, Blue and Alpha
    Rgba,
    /// 8-bit per channel Blue, Green and Red
    Bgr,
    /// 8-bit per channel Blue, Green and Red and Alpha
    Bgra,
    /// 8-bit per channel Alpha only
    Alpha,
}

enum ImageLoadStatus {
    /// The image is still loading
    Loading,
    /// The image has finished loading
    Loaded,
    /// The image failed to load
    Failed,
}

struct ImageInfo {
    /// Format of the image. See the ImageFormat enum
    format: u32,
    /// width of the image
    width: u32,
    /// height of the Image
    height: u32,
    /// Number of frames. This is 1 for static images and > 1 for animated images 
    frame_count: u32,
    /// How long each frame should be displayed for in milliseconds 
    frame_delay: u32,
}

enum SvgFlags {
    /// Render the SVG image using RGBA format
    Rgba = 0,
    /// Render the SVG image using Alpha only
    Alpha = 1,
}

#[attributes(Handle)]
struct Image {
    /// Async Load image from url/file. Supported formats are:
    /// JPEG baseline & progressive (12 bpc/arithmetic not supported, same as stock IJG lib)
    /// PNG 1/2/4/8/16-bit-per-channel
    /// Notice that this will return a async handle so the data may not be acceassable directly.
    [static] create_from_file(filename: String) -> Image,
    /// Get the status of the image. See the [ImageLoadStatus] enum 
    [static] get_status(image: Image) -> ImageLoadStatus,
    /// Get info about the image. Will be null if the image hasn't loaded yet or failed to load.
    [static] get_info(image: Image) -> *const ImageInfo?,
    /// Get data from the image. Will be null if the image hasn't loaded yet or failed to load.
    [static] get_data(image: Image) -> [u8]?,
}

// vim: syntax=rust expandtab ts=4 sw=4

